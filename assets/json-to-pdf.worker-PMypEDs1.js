(function(){"use strict";self.importScripts("/coherentpdf.browser.min.js");function c(e,d){try{const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s],f=d[s],p=new Uint8Array(i);let t;try{t=coherentpdf.fromJSONMemory(p)}catch(o){const u=o&&o.message?o.message:"Unknown error";throw new Error(`Failed to convert "${f}" to PDF. The JSON file must be in the format produced by cpdf's outputJSONMemory. Error: ${u}`)}const a=coherentpdf.toMemory(t,!1,!1).buffer.slice(0);r.push({name:f,data:a}),n.push(a),coherentpdf.deletePdf(t)}self.postMessage({status:"success",pdfFiles:r},n)}catch(r){self.postMessage({status:"error",message:r instanceof Error?r.message:"Unknown error during JSON to PDF conversion."});return}}self.onmessage=e=>{e.data.command==="convert"&&c(e.data.fileBuffers,e.data.fileNames)}})();
